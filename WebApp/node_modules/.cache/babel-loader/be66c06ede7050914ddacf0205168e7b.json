{"remainingRequest":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\src\\components\\UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\src\\components\\UserAuth.vue","mtime":1630394375815},{"path":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwgZnJvbSAiQzovVXNlcnMvb3J0aXgvRG9jdW1lbnRzL01pblRpYy9wcm95ZWN0b0ZpbmFsMi9XZWJBcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9vcnRpeC9Eb2N1bWVudHMvTWluVGljL3Byb3llY3RvRmluYWwyL1dlYkFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX3RlbXBsYXRlT2JqZWN0OwoKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgZ3FsIGZyb20gJ2dyYXBocWwtdGFnJzsKaW1wb3J0IGp3dF9kZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlckF1dGgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyX2luOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcHJvY2Vzc0F1dGhVc2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcHJvY2Vzc0F1dGhVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGFwb2xsby5tdXRhdGUoewogICAgICAgICAgICAgICAgICBtdXRhdGlvbjogZ3FsKF90ZW1wbGF0ZU9iamVjdCB8fCAoX3RlbXBsYXRlT2JqZWN0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGF1dGhlbnRpY2F0ZUNyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0lucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlKGNyZWRlbnRpYWxzOiAkYXV0aGVudGljYXRlQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0iXSkpKSwKICAgICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlQ3JlZGVudGlhbHM6IHRoaXMudXNlcl9pbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXN1bHQuZGF0YS5hdXRoZW50aWNhdGU7CiAgICAgICAgICAgICAgICAgIGRhdGEudXNlcl9pZCA9IGp3dF9kZWNvZGUoZGF0YS5hY2Nlc3MpLnVzZXJfaWQudG9TdHJpbmcoKS5wYWRTdGFydCgzLCAiMCIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2xvZy1pbicsIGRhdGEsIF90aGlzLnVzZXJfaW4udXNlcm5hbWUpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCJFbCB1c3VhcmlvIHkvbyBjb250cmFzZcOxYSBzb24gaW5jb3JyZWN0b3MiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcHJvY2Vzc0F1dGhVc2VyKCkgewogICAgICAgIHJldHVybiBfcHJvY2Vzc0F1dGhVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwcm9jZXNzQXV0aFVzZXI7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["C:\\Users\\ortix\\Documents\\MinTic\\proyectoFinal2\\WebApp\\src\\components\\UserAuth.vue"],"names":[],"mappings":";;;;;;;;;AAyBA,OAAO,GAAP,MAAgB,aAAhB;AACA,OAAO,UAAP,MAAuB,YAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAGX,EAAA,IAAI,EAAE,gBAAU;AACZ,WAAO;AACH,MAAA,OAAO,EAAE;AACL,QAAA,QAAQ,EAAC,EADJ;AAEL,QAAA,QAAQ,EAAC;AAFJ;AADN,KAAP;AAMH,GAVU;AAYX,EAAA,OAAO,EAAE;AACL,IAAA,eAAe;AAAA,qFAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACP,KAAK,OAAL,CAAa,MAAb,CAAoB;AACtB,kBAAA,QAAQ,EAAE,GAAF,6VADc;AAQtB,kBAAA,SAAS,EAAE;AACP,oBAAA,uBAAuB,EAAE,KAAK;AADvB;AARW,iBAApB,EAYH,IAZG,CAYE,UAAC,MAAD,EAAY;AAEhB,sBAAI,IAAG,GAAI,MAAM,CAAC,IAAP,CAAY,YAAvB;AACA,kBAAA,IAAI,CAAC,OAAL,GAAe,UAAU,CAAC,IAAI,CAAC,MAAN,CAAV,CAAwB,OAAxB,CAAgC,QAAhC,GAA2C,QAA3C,CAAoD,CAApD,EAAuD,GAAvD,CAAf;;AAEA,kBAAA,KAAI,CAAC,KAAL,CAAW,QAAX,EAAqB,IAArB,EAA2B,KAAI,CAAC,OAAL,CAAa,QAAxC;AAEH,iBAnBK,EAmBH,KAnBG,CAmBG,UAAC,KAAD,EAAW;AAChB,kBAAA,KAAK,CAAC,2CAAD,CAAL;AACH,iBArBK,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADV;AAZE,CAAf","sourcesContent":["<template>\r\n    <div id=\"AuthUser\" class=\"auth_user\">\r\n        \r\n        <div class=\"container_auth_user\">\r\n            <h2>BIENVENIDO</h2>\r\n\r\n            <form v-on:submit.prevent=\"processAuthUser\" >\r\n                <div class=\"nombreUsuario\">\r\n                <input type=\"text\" v-model=\"user_in.username\" placeholder=\"Username\">\r\n                </div>\r\n                <br>\r\n                <div class=\"contraseñaUsuario\">\r\n                <input type=\"password\" v-model=\"user_in.password\" placeholder=\"Password\">\r\n                </div>\r\n                <br>\r\n                <div class=\"boton\">\r\n                <button type=\"submit\">Iniciar Sesion</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag'\r\nimport jwt_decode from \"jwt-decode\"\r\n\r\nexport default {\r\n    name: \"UserAuth\",\r\n\r\n    data: function(){\r\n        return {\r\n            user_in: {\r\n                username:\"\",\r\n                password:\"\"\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        processAuthUser: async function(){\r\n            await this.$apollo.mutate({\r\n                mutation: gql`\r\n                    mutation ($authenticateCredentials: CredentialsInput!) {\r\n                        authenticate(credentials: $authenticateCredentials) {\r\n                            refresh\r\n                            access\r\n                        }\r\n                    }`, \r\n                variables: {\r\n                    authenticateCredentials: this.user_in\r\n                }\r\n\r\n            }).then((result) => {\r\n\r\n                let data = result.data.authenticate\r\n                data.user_id = jwt_decode(data.access).user_id.toString().padStart(3, \"0\")\r\n\r\n                this.$emit('log-in', data, this.user_in.username)\r\n\r\n            }).catch((error) => {\r\n                alert(\"El usuario y/o contraseña son incorrectos\")\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .auth_user{\r\n        margin: 0;\r\n        padding: 0%;\r\n        height: 100%;\r\n        width: 100%;\r\n    \r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n\r\n    }\r\n\r\n    .container_auth_user {\r\n        border: 3px solid  #CDCDCD;\r\n        box-shadow: 0px 0px 15px #91dff7; \r\n        background-color: white;\r\n        border-radius: 10px;\r\n        width: 25%;\r\n        height: 60%;\r\n        \r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .auth_user h2{\r\n        color: #828282;\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        font-weight: normal;\r\n        padding-bottom: 20px;\r\n\r\n    }\r\n\r\n    .auth_user form{\r\n        width: 50%;\r\n        \r\n    }\r\n\r\n    .auth_user input{\r\n        height: 40px;\r\n        width: 100%;\r\n\r\n        box-sizing: border-box;\r\n\r\n        padding: 10px 20px;\r\n        margin: 5px 0;\r\n\r\n        border: 1px solid #cbcbcb;\r\n        \r\n    }\r\n\r\n    .auth_user button{\r\n        width: 100%;\r\n        height: 40px;\r\n\r\n        color: #E5E7E9;\r\n        background: #055ebd;\r\n        border: 1px solid #E5E7E9;\r\n\r\n        border-radius: 5px;\r\n        padding: 10px 25px;\r\n        margin: 5px 0;\r\n        font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .auth_user button:hover{\r\n        color: #E5E7E9;\r\n        background: #0099ff;\r\n        border: 1px solid #283747;\r\n        \r\n    }\r\n    .nombreUsuario, .contraseñaUsuario, .boton{\r\n        padding-bottom: 8px;\r\n    }\r\n</style>"],"sourceRoot":""}]}